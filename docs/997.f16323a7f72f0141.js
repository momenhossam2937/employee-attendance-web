"use strict";(self.webpackChunkemployee_attendance_web=self.webpackChunkemployee_attendance_web||[]).push([[997],{5997:(W,g,i)=>{i.r(g),i.d(g,{EmployeesAttendanceModule:()=>$});var d=i(9808),E=i(1120),m=i(3485),v=i(8965);class T{constructor(){this.eVETLGUID=0,this.dEVDT=0,this.dEVUID=0,this.eMPID=0,this.DEVDT2=new Date}}var e=i(5e3),C=i(7281),h=i(520);let y=(()=>{class t{constructor(o){this.http=o,this.serviceUrl="https://localhost:44397/api/attendance"}getEmployeeAttendanceList(o,n){const l=(new h.LE).set("eMPID",o).set("month",n);return this.http.get(`${this.serviceUrl}/Get`,{params:l})}addEmployeeAttendance(o){return this.http.post(`${this.serviceUrl}/create`,o)}removeEmployeeAttendance(o){return this.http.post(`${this.serviceUrl}/remove`,o)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=i(4383),s=i(2382),Z=i(159),M=i(5652);function b(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1," EVETLGUID required "),e.qZA())}function I(t,r){if(1&t&&(e.TgZ(0,"span",25),e.YNc(1,b,2,0,"span",26),e.qZA()),2&t){e.oxw();const o=e.MAs(24);e.xp6(1),e.Q6J("ngIf",null==o||null==o.errors?null:o.errors.required)}}function D(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1," DEVUID required "),e.qZA())}function x(t,r){if(1&t&&(e.TgZ(0,"span",25),e.YNc(1,D,2,0,"span",26),e.qZA()),2&t){const o=e.oxw(),n=e.MAs(33);e.xp6(1),e.Q6J("ngIf",o.isFormSubmitted||(null==n||null==n.errors?null:n.errors.required))}}let U=(()=>{class t{constructor(o,n,l,a){this.empService=o,this.employeesAttendanceService=n,this.tostar=l,this.router=a,this.employees=[],this.empId="",this.isFormSubmitted=!1,this.employeeAttendanceRequest=new T}ngOnInit(){this.loadEmployees()}loadEmployees(){this.empService.getEmployeeList().subscribe({next:o=>{this.employees=o.employees.map(n=>({id:n.empid,name:n.name}))},error:o=>{console.log(o)}})}saveEmployeeAttendance(o){o.valid?(this.employeeAttendanceRequest.eMPID&&null==this.employeeAttendanceRequest.eMPID&&this.tostar.error("Employee is required"),this.employeesAttendanceService.addEmployeeAttendance(this.employeeAttendanceRequest).subscribe(n=>{n&&n.isCreated?(this.tostar.success("Employee Attendance Created Successfully"),this.router.navigateByUrl("employeesAttendance")):this.tostar.error("Error while adding new Employee Attendance")})):this.isFormSubmitted=!0}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(C.M),e.Y36(y),e.Y36(A._W),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-employee-attendance"]],decls:46,vars:10,consts:[[1,"vh-100"],[1,"container","h-100"],[1,"mb-4","d-flex","justify-content-center","title"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-9"],[1,"createForm"],["empAttendanceForm","ngForm"],[1,"card",2,"border-radius","15px"],[1,"card-body"],[1,"row","align-items-center","pt-4","pb-3"],[1,"col-md-3","ps-5"],[1,"mb-0"],[1,"col-md-9","pe-5"],["placeholder","Select a Employee","optionLabel","name","name","employeeId","optionValue","id",3,"options","ngModel","showClear","ngModelChange"],["employeeId","ngModel"],[1,"mx-n3"],[1,"row","align-items-center","py-3"],["type","number","placeholder","example@example.com","name","eVETLGUID","required","",1,"form-control",3,"ngModel","ngModelChange"],["eVETLGUIDtxt","ngModel"],["class","help-block text-danger",4,"ngIf"],["type","number","placeholder","Enter DEVUID","name","phoneNumber","required","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["dEVUIDtxt","ngModel"],["inputId","time","name","date",3,"ngModel","showTime","showSeconds","ngModelChange"],[1,"px-5","py-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"click"],[1,"help-block","text-danger"],[4,"ngIf"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),e._uU(3,"Create Employee Attendance"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"form",5,6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h6",11),e._uU(13,"Employee"),e.qZA()(),e.TgZ(14,"div",12)(15,"p-dropdown",13,14),e.NdJ("ngModelChange",function(p){return n.employeeAttendanceRequest.eMPID=p}),e.qZA()()(),e._UZ(17,"hr",15),e.TgZ(18,"div",16)(19,"div",10)(20,"h6",11),e._uU(21,"EVETLGUID"),e.qZA()(),e.TgZ(22,"div",12)(23,"input",17,18),e.NdJ("ngModelChange",function(p){return n.employeeAttendanceRequest.eVETLGUID=p}),e.qZA(),e.YNc(25,I,2,1,"span",19),e.qZA()(),e._UZ(26,"hr",15),e.TgZ(27,"div",9)(28,"div",10)(29,"h6",11),e._uU(30,"DEVUID"),e.qZA()(),e.TgZ(31,"div",12)(32,"input",20,21),e.NdJ("ngModelChange",function(p){return n.employeeAttendanceRequest.dEVUID=p}),e.qZA(),e.YNc(34,x,2,1,"span",19),e.qZA()(),e._UZ(35,"hr",15),e.TgZ(36,"div",9)(37,"div",10)(38,"h6",11),e._uU(39,"Date"),e.qZA()(),e.TgZ(40,"div",12)(41,"p-calendar",22),e.NdJ("ngModelChange",function(p){return n.employeeAttendanceRequest.DEVDT2=p}),e.qZA()()(),e._UZ(42,"hr",15),e.TgZ(43,"div",23)(44,"button",24),e.NdJ("click",function(){e.CHM(l);const p=e.MAs(7);return n.saveEmployeeAttendance(p)}),e._uU(45," Save "),e.qZA()()()()()()()()()}if(2&o){const l=e.MAs(24),a=e.MAs(33);e.xp6(15),e.Q6J("options",n.employees)("ngModel",n.employeeAttendanceRequest.eMPID)("showClear",!0),e.xp6(8),e.Q6J("ngModel",n.employeeAttendanceRequest.eVETLGUID),e.xp6(2),e.Q6J("ngIf",n.isFormSubmitted||l.touched&&!(null!=l&&l.valid)),e.xp6(7),e.Q6J("ngModel",n.employeeAttendanceRequest.dEVUID),e.xp6(2),e.Q6J("ngIf",n.isFormSubmitted||a.touched&&!(null!=a&&a.valid)),e.xp6(7),e.Q6J("ngModel",n.employeeAttendanceRequest.DEVDT2)("showTime",!0)("showSeconds",!0)}},directives:[s._Y,s.JL,s.F,Z.Lt,s.JJ,s.On,s.wV,s.Fj,s.Q7,d.O5,s.qQ,M.f],styles:[""]}),t})();class q{constructor(){this.userID=0,this.date=new Date,this.FirstRecordDateTime="",this.LastRecordDateTime=""}}class R{constructor(){this.employeeId=0,this.date=new Date}}var f=i(9783),w=i(1424),_=i(845),F=i(4534),u=i(4255),S=i(7307);function J(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1," Employee Id required "),e.qZA())}function N(t,r){if(1&t&&(e.TgZ(0,"span",22),e.YNc(1,J,2,0,"span",23),e.qZA()),2&t){const o=e.oxw(),n=e.MAs(7);e.xp6(1),e.Q6J("ngIf",o.isFormSubmitted||(null==n||null==n.errors?null:n.errors.required))}}function G(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1," Month required "),e.qZA())}function L(t,r){if(1&t&&(e.TgZ(0,"span",22),e.YNc(1,G,2,0,"span",23),e.qZA()),2&t){const o=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",o.isFormSubmitted||(null==n||null==n.errors?null:n.errors.required))}}function Y(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(o),e.oxw().onAddNewEmployeeAttendanceClick()}),e.qZA()}}function V(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"div",25),e._uU(1," List of Employees Attendance "),e.TgZ(2,"span",26),e._UZ(3,"i",27),e.TgZ(4,"input",28,29),e.NdJ("input",function(){e.CHM(o);const l=e.MAs(5);return e.oxw(),e.MAs(22).filterGlobal(l.value,"contains")}),e.qZA()()()}}function Q(t,r){1&t&&(e.TgZ(0,"tr")(1,"th",30)(2,"div",31),e._uU(3," UserID "),e._UZ(4,"p-sortIcon",32),e.qZA()(),e.TgZ(5,"th",33)(6,"div",31),e._uU(7," Date "),e._UZ(8,"p-sortIcon",34),e.qZA()(),e.TgZ(9,"th",35)(10,"div",31),e._uU(11," Check in "),e._UZ(12,"p-sortIcon",36),e.qZA()(),e.TgZ(13,"th",37)(14,"div",31),e._uU(15," Check out "),e._UZ(16,"p-sortIcon",38),e.qZA()(),e._UZ(17,"th",39),e.qZA())}function P(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"tr",40)(1,"td")(2,"span",41),e._uU(3,"UserID"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",41),e._uU(7,"Date"),e.qZA(),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td")(11,"span",41),e._uU(12,"Check in"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"span",41),e._uU(16,"Check Out"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"td",42),e._UZ(19,"p-confirmPopup"),e.TgZ(20,"button",43),e.NdJ("click",function(l){const p=e.CHM(o).$implicit;return e.oxw().onRmoveEmployeeAttendanceClick(l,p)}),e.qZA()()()}if(2&t){const o=r.$implicit;e.xp6(4),e.hij(" ",o.userID," "),e.xp6(4),e.hij(" ",e.xi3(9,4,o.date,"MM/dd/yyyy")," "),e.xp6(5),e.hij(" ",o.firstRecordDateTime," "),e.xp6(4),e.hij(" ",o.lastRecordDateTime," ")}}function k(t,r){1&t&&(e.TgZ(0,"tr")(1,"td",44),e._uU(2,"No Employee found."),e.qZA()())}const j=function(){return[10,25,50]},O=function(){return["firstRecordDateTime","lastRecordDateTime"]},H=[v.N.childRoutes([{path:"employeesAttendance",component:(()=>{class t{constructor(o,n,l,a){this.employeesAttendanceService=o,this.tostar=n,this.router=l,this.confirmationService=a,this.employeeAttendanceList=[],this.loading=!1,this.activityValues=[0,100],this.empId=0,this.month=0,this.isFormSubmitted=!1}ngOnInit(){}getEmployeeAttendance(o){o.valid?((this.empId<=0||this.month<=0)&&this.tostar.error("Employee Id And Month Must Be Greater Than zero"),this.loading=!0,this.employeesAttendanceService.getEmployeeAttendanceList(this.empId,this.month).subscribe({next:n=>{n.isSuccess?this.employeeAttendanceList=n.employeeAttendances:this.tostar.error(n.error),this.loading=!1},error:n=>{this.loading=!1,console.log(n)}})):this.isFormSubmitted=!0}clearEmployeeAttendance(){this.employeeAttendanceList=[],this.empId=0,this.month=0}onAddNewEmployeeAttendanceClick(){this.router.navigateByUrl("employeesAttendance/create")}onRmoveEmployeeAttendanceClick(o,n){var l=new R;l.employeeId=n.userID,l.date=n.date,this.confirmationService.confirm({target:o.target,message:"Are you sure that you want to remove this item?",icon:"pi pi-exclamation-triangle",accept:()=>{this.employeesAttendanceService.removeEmployeeAttendance(l).subscribe(a=>{if(a&&a.isDeleted){this.tostar.success("Employee Attendance Removed Successfully");var p=this.employeeAttendanceList.indexOf(n),c=new q;c.userID=n.userID,c.date=n.date,c.FirstRecordDateTime="",c.LastRecordDateTime="",this.employeeAttendanceList[p]=c}else this.tostar.error("Error while Removing new Employee Attendance")})},reject:()=>{}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(y),e.Y36(A._W),e.Y36(m.F0),e.Y36(f.YP))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-get-employee-attendance"]],decls:27,vars:15,consts:[[1,"container","card","my-4","py-4"],["empAttendanceForm","ngForm"],[1,"row","p-fluid"],[1,"col-4","md:col-4"],[1,"p-inputgroup"],["type","number","pInputText","","placeholder","Employee Id","name","id","required","",3,"ngModel","ngModelChange"],["id","ngModel"],["class","help-block text-danger",4,"ngIf"],["type","number","pInputText","","placeholder","Month Number","name","month",3,"ngModel","ngModelChange"],["monthinput","ngModel"],[1,"p-inputgroup","gap-2"],["label","Submit","icon","pi pi-check","iconPos","right",3,"onClick"],["pButton","","pRipple","","label","Clear","icon","pi pi-times",1,"p-button-raised","p-button-secondary",3,"click"],[1,"container","card","my-4","py-2"],["styleClass","mb-4 gap-2 "],["pTemplate","left"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"help-block","text-danger"],[4,"ngIf"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],[1,"table-header","d-flex","justify-content-between","align-items-center"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"input"],["textInput",""],["pSortableColumn","userID",2,"min-width","14rem"],[1,"flex","justify-content-between","align-items-center"],["field","userID"],["pSortableColumn","date",2,"min-width","10rem"],["field","date"],["pSortableColumn","firstRecordDateTime",2,"min-width","14rem"],["field","firstRecordDateTime"],["pSortableColumn","lastRecordDateTime",2,"min-width","14rem"],["field","lastRecordDateTime"],[2,"width","5rem"],[1,"p-selectable-row"],[1,"p-column-title"],[1,"d-flex","gap-2"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["colspan","8"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0)(1,"form",null,1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5,6),e.NdJ("ngModelChange",function(p){return n.empId=p}),e.qZA(),e.YNc(8,N,2,1,"span",7),e.qZA()(),e.TgZ(9,"div",3)(10,"div",4)(11,"input",8,9),e.NdJ("ngModelChange",function(p){return n.month=p}),e.qZA(),e.YNc(13,L,2,1,"span",7),e.qZA()(),e.TgZ(14,"div",3)(15,"div",10)(16,"p-button",11),e.NdJ("onClick",function(){e.CHM(l);const p=e.MAs(2);return n.getEmployeeAttendance(p)}),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return n.clearEmployeeAttendance()}),e.qZA()()()()()(),e.TgZ(18,"div",13)(19,"p-toolbar",14),e.YNc(20,Y,1,0,"ng-template",15),e.qZA(),e.TgZ(21,"p-table",16,17),e.YNc(23,V,6,0,"ng-template",18),e.YNc(24,Q,18,0,"ng-template",19),e.YNc(25,P,21,7,"ng-template",20),e.YNc(26,k,3,0,"ng-template",21),e.qZA()()}if(2&o){const l=e.MAs(7),a=e.MAs(12);e.xp6(6),e.Q6J("ngModel",n.empId),e.xp6(2),e.Q6J("ngIf",n.isFormSubmitted||l.touched&&!(null!=l&&l.valid)),e.xp6(3),e.Q6J("ngModel",n.month),e.xp6(2),e.Q6J("ngIf",n.isFormSubmitted||a.touched&&!(null!=a&&a.valid)),e.xp6(8),e.Q6J("value",n.employeeAttendanceList)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(13,j))("loading",n.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",e.DdM(14,O))}},directives:[s._Y,s.JL,s.F,s.wV,s.Fj,w.o,s.Q7,s.JJ,s.On,d.O5,_.zx,_.Hq,F.o,f.jx,u.iA,u.lQ,u.fz,S.P],pipes:[d.uU],styles:[".divInput[_ngcontent-%COMP%]{gap:4px}"]}),t})(),data:{title:"Employees Attendance"}},{path:"employeesAttendance/create",component:U,data:{title:"Create Employees Attendance"}}])];let z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[m.Bz.forChild(H)],m.Bz]}),t})(),$=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,E.m,z]]}),t})()}}]);